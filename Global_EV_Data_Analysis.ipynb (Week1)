{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "6bb006e9",
   "metadata": {},
   "source": [
    "# Global EV Data Analysis (2010–2024)\n",
    "\n",
    "This notebook explores the IEA Global EV dataset to understand electric vehicle adoption worldwide. Also I have done the following implementation steps:\n",
    "1. Define the Problem\n",
    "2. Data Collection and Understanding\n",
    "3. Data Preprocessing\n",
    "4. Data Splitting"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "4e6d1b9d",
   "metadata": {},
   "source": [
    "## 1. Define the Problem\n",
    "\n",
    "The transition to electric vehicles (EVs) is critical for reducing carbon emissions. Policymakers, manufacturers, and researchers need to understand:\n",
    "- How EV adoption has grown globally from 2010–2024\n",
    "- Regional differences in adoption\n",
    "- Trends in EV sales and stock\n",
    "\n",
    "**Problem Statement:**\n",
    "Can we analyze global EV adoption trends and build a model to forecast EV sales/stock in the future? Historically, EVs have come and gone. Are they here to stay ?"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "ceb42b06",
   "metadata": {},
   "source": [
    "## 2. Data Collection and Understanding\n",
    "\n",
    "**Dataset details**\n",
    "- Name - IEA Global EV Data 2024\n",
    "- Source - https://www.kaggle.com/datasets/patricklford/global-ev-sales-2010-2024/data\n",
    "- File format - .csv\n",
    "\n",
    "\n",
    "**Dataset Description:**\n",
    "\n",
    "From the early 20th century, when EVs held a significant market share, to their near-disappearance with the rise of petrol engines, the journey of electric vehicles is marked by both challenges and breakthroughs. Innovations such as the Sinclair C5 and the GM EV1 were pivotal in shaping the current landscape. Today, with advancements in battery technology and increasing environmental awareness, electric vehicles are at the forefront of automotive innovation. As we continue to develop and embrace these technologies, the evolution of electric vehicles highlights their potential to reshape the future of transportation. The dataset shows the information of EVs across the globe, taking continents as a whole and decides whether EVs are here to stay or die.\n",
    "\n",
    "\n",
    "**Feature Description**\n",
    "- region : The country/region where the EV data is recorded\n",
    "- category : It is the type of data: whether it is historical(past actual data)/projection(future estimated data)\n",
    "- parameter : The specific EV-related metric being measured(ex:EV stock, EV sales, etc)\n",
    "- mode : Type of transport\n",
    "- powertrain : The EV technology type (ex:EV for all, BEV = Battery Electric Vehicle, PHEV = Plug-in Hybrid, \n",
    "  FCEV = Fuel Cell EV)\n",
    "- year : The year of observation or projection(here 2010-2024 only, according to dataset)\n",
    "- unit : The unit of measurement (ex: no. of Vehicles/Percent/GWh)\n",
    "- value : The numerical value of the metric for that year, region, & category.\n",
    "\n",
    "\n",
    "**Loading the Dataset**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "8f214555",
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "file_path = \"IEA Global EV Data 2024.csv\"\n",
    "df = pd.read_csv(file_path)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "89281a95",
   "metadata": {},
   "source": [
    "**Exploring and Understanding the Dataset**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "ef62a748",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>region</th>\n",
       "      <th>category</th>\n",
       "      <th>parameter</th>\n",
       "      <th>mode</th>\n",
       "      <th>powertrain</th>\n",
       "      <th>year</th>\n",
       "      <th>unit</th>\n",
       "      <th>value</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Australia</td>\n",
       "      <td>Historical</td>\n",
       "      <td>EV stock share</td>\n",
       "      <td>Cars</td>\n",
       "      <td>EV</td>\n",
       "      <td>2011</td>\n",
       "      <td>percent</td>\n",
       "      <td>0.00039</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Australia</td>\n",
       "      <td>Historical</td>\n",
       "      <td>EV sales share</td>\n",
       "      <td>Cars</td>\n",
       "      <td>EV</td>\n",
       "      <td>2011</td>\n",
       "      <td>percent</td>\n",
       "      <td>0.00650</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Australia</td>\n",
       "      <td>Historical</td>\n",
       "      <td>EV sales</td>\n",
       "      <td>Cars</td>\n",
       "      <td>BEV</td>\n",
       "      <td>2011</td>\n",
       "      <td>Vehicles</td>\n",
       "      <td>49.00000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Australia</td>\n",
       "      <td>Historical</td>\n",
       "      <td>EV stock</td>\n",
       "      <td>Cars</td>\n",
       "      <td>BEV</td>\n",
       "      <td>2011</td>\n",
       "      <td>Vehicles</td>\n",
       "      <td>49.00000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Australia</td>\n",
       "      <td>Historical</td>\n",
       "      <td>EV stock</td>\n",
       "      <td>Cars</td>\n",
       "      <td>BEV</td>\n",
       "      <td>2012</td>\n",
       "      <td>Vehicles</td>\n",
       "      <td>220.00000</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "      region    category       parameter  mode powertrain  year      unit  \\\n",
       "0  Australia  Historical  EV stock share  Cars         EV  2011   percent   \n",
       "1  Australia  Historical  EV sales share  Cars         EV  2011   percent   \n",
       "2  Australia  Historical        EV sales  Cars        BEV  2011  Vehicles   \n",
       "3  Australia  Historical        EV stock  Cars        BEV  2011  Vehicles   \n",
       "4  Australia  Historical        EV stock  Cars        BEV  2012  Vehicles   \n",
       "\n",
       "       value  \n",
       "0    0.00039  \n",
       "1    0.00650  \n",
       "2   49.00000  \n",
       "3   49.00000  \n",
       "4  220.00000  "
      ]
     },
     "execution_count": 2,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "222fe290",
   "metadata": {},
   "source": [
    "## 3. Data Preprocessing\n",
    "\n",
    "**Handle missing values**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "8fe5ffc2",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "region        0\n",
      "category      0\n",
      "parameter     0\n",
      "mode          0\n",
      "powertrain    0\n",
      "year          0\n",
      "unit          0\n",
      "value         0\n",
      "dtype: int64\n"
     ]
    }
   ],
   "source": [
    "# Check for missing values\n",
    "print(df.isnull().sum())"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "9b1c3714",
   "metadata": {},
   "source": [
    "**Focus on relevant parameters (e.g., EV sales, EV stock) and filter it**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "ae0d7c7f",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Filter for EV stock (number of vehicles) as an example\n",
    "ev_stock = df[df['parameter'] == 'EV stock']"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "e779f9f6",
   "metadata": {},
   "source": [
    "**Viewing the subset obtained**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "95dde146",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>region</th>\n",
       "      <th>category</th>\n",
       "      <th>parameter</th>\n",
       "      <th>mode</th>\n",
       "      <th>powertrain</th>\n",
       "      <th>year</th>\n",
       "      <th>unit</th>\n",
       "      <th>value</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Australia</td>\n",
       "      <td>Historical</td>\n",
       "      <td>EV stock</td>\n",
       "      <td>Cars</td>\n",
       "      <td>BEV</td>\n",
       "      <td>2011</td>\n",
       "      <td>Vehicles</td>\n",
       "      <td>49.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Australia</td>\n",
       "      <td>Historical</td>\n",
       "      <td>EV stock</td>\n",
       "      <td>Cars</td>\n",
       "      <td>BEV</td>\n",
       "      <td>2012</td>\n",
       "      <td>Vehicles</td>\n",
       "      <td>220.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>Australia</td>\n",
       "      <td>Historical</td>\n",
       "      <td>EV stock</td>\n",
       "      <td>Cars</td>\n",
       "      <td>PHEV</td>\n",
       "      <td>2012</td>\n",
       "      <td>Vehicles</td>\n",
       "      <td>80.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>Australia</td>\n",
       "      <td>Historical</td>\n",
       "      <td>EV stock</td>\n",
       "      <td>Cars</td>\n",
       "      <td>PHEV</td>\n",
       "      <td>2013</td>\n",
       "      <td>Vehicles</td>\n",
       "      <td>180.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>Australia</td>\n",
       "      <td>Historical</td>\n",
       "      <td>EV stock</td>\n",
       "      <td>Cars</td>\n",
       "      <td>BEV</td>\n",
       "      <td>2013</td>\n",
       "      <td>Vehicles</td>\n",
       "      <td>410.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "       region    category parameter  mode powertrain  year      unit  value\n",
       "3   Australia  Historical  EV stock  Cars        BEV  2011  Vehicles   49.0\n",
       "4   Australia  Historical  EV stock  Cars        BEV  2012  Vehicles  220.0\n",
       "8   Australia  Historical  EV stock  Cars       PHEV  2012  Vehicles   80.0\n",
       "11  Australia  Historical  EV stock  Cars       PHEV  2013  Vehicles  180.0\n",
       "15  Australia  Historical  EV stock  Cars        BEV  2013  Vehicles  410.0"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Preview processed subset\n",
    "ev_stock.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "20711bb0",
   "metadata": {},
   "source": [
    "## 4. Data Splitting\n",
    "\n",
    "We split data into training and testing sets for building models (e.g., predicting EV stock over time).\n",
    "\n",
    "- Importing python library sklearn to split training and testing sets\n",
    "- Predicting EV stocks by \"year\"(stored in x) using \"value\"(stored in y) \n",
    "- Printing the Training and Testing samples"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "e0d96db3",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Training samples: 2776\n",
      "Testing samples: 694\n"
     ]
    }
   ],
   "source": [
    "from sklearn.model_selection import train_test_split\n",
    "\n",
    "# Example: Predict EV stock by year\n",
    "x = ev_stock[['year']]\n",
    "y = ev_stock['value']\n",
    "\n",
    "x_train, x_test, y_train, y_test = train_test_split(x, y, test_size=0.2, random_state=42)\n",
    "\n",
    "print('Training samples:', x_train.shape[0])\n",
    "print('Testing samples:', x_test.shape[0])"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.11.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
